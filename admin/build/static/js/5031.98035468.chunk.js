"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[5031],{95031:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var o=n(29439),i=n(65964),r=n(73709),l=n(47313),a=n(58467),s=n(2135),u=n(70178),c=n(24193),d=n(73428),m=n(5297),p=n(65280),f=n(19536),h=n(51629),g=n(61689),y=n(47131),v=n(66835),x=n(57861),j=n(48175),Z=(n(81887),n(8730)),w=n(53261),E=n(58772),S=n(38875),C=n(50152),R=n(54045),b=n(56859),D=n(48013),P=n(46417),_=[],k=[{id:"name",label:"Name",align:"left"},{id:"email",label:"Email",align:"left"},{id:"address",label:"Address",align:"left"},{id:"phone",label:"phone",align:"center"},{id:"description",label:"Description",align:"left"},{id:""}];function A(){var e=(0,R.x6)(),t=e.dense,n=e.page,A=e.order,F=e.orderBy,T=e.rowsPerPage,q=e.setPage,L=e.selected,N=e.setSelected,B=e.onSelectRow,Q=e.onSelectAllRows,M=e.onSort,O=e.onChangeDense,U=e.onChangePage,z=e.onChangeRowsPerPage,I=(0,C.K$)().themeStretch,W=(0,a.s0)(),G=(0,D.X2)(),K=G.data,X=(G.isLoading,(0,l.useState)([])),$=(0,o.Z)(X,2),H=$[0],J=$[1];(0,l.useEffect)((function(){K&&J(K.data.employmentApplications)}),[K]);var V=(0,l.useState)(!1),Y=(0,o.Z)(V,2),ee=Y[0],te=Y[1],ne=(0,l.useState)(""),oe=(0,o.Z)(ne,2),ie=oe[0],re=oe[1],le=(0,l.useState)("all"),ae=(0,o.Z)(le,2),se=ae[0],ue=ae[1],ce=(0,l.useState)("all"),de=(0,o.Z)(ce,2),me=de[0],pe=de[1],fe=function(e){var t=e.inputData,n=e.comparator,o=e.filterName,i=e.filterStatus,r=e.filterRole,l=t.map((function(e,t){return[e,t]}));l.sort((function(e,t){var o=n(e[0],t[0]);return 0!==o?o:e[1]-t[1]})),t=l.map((function(e){return e[0]})),o&&(t=t.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(o.toLowerCase())})));"all"!==i&&(t=t.filter((function(e){return e.active===i})));"all"!==r&&(t=t.filter((function(e){return e.role===r})));return t}({inputData:H,comparator:(0,R.sQ)(A,F),filterName:ie,filterRole:se,filterStatus:me}),he=fe.slice(n*T,n*T+T),ge=t?52:72,ye=""!==ie||"all"!==se||"all"!==me,ve=!fe.length&&!!ie||!fe.length&&!!se||!fe.length&&!!me,xe=function(){te(!1)};return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.ql,{children:(0,P.jsx)("title",{children:" Employment: List | Rehltk"})}),(0,P.jsxs)(u.Z,{maxWidth:!I&&"lg",children:[(0,P.jsx)(S.Z,{heading:"Employment List",links:[{name:"Dashboard",href:j.vB.root},{name:"Employment",href:j.vB.employment.root},{name:"Order List"}],action:(0,P.jsx)(c.Z,{component:s.rU,to:j.vB.employment.new,variant:"contained",startIcon:(0,P.jsx)(Z.Z,{icon:"eva:plus-fill"}),children:"New Employment"})}),(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(m.Z,{value:me,onChange:function(e,t){q(0),pe(t)},sx:{px:2,bgcolor:"background.neutral"},children:_.map((function(e){return(0,P.jsx)(p.Z,{label:e,value:e},e)}))}),(0,P.jsx)(f.Z,{}),(0,P.jsx)(b.Z,{isFiltered:ye,filterName:ie,filterRole:se,onFilterName:function(e){q(0),re(e.target.value)},onFilterRole:function(e){q(0),ue(e.target.value)},onResetFilter:function(){re(""),ue("all"),pe("all")}}),(0,P.jsxs)(h.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,P.jsx)(R.Z4,{dense:t,numSelected:L.length,rowCount:H.length,onSelectAllRows:function(e){return Q(e,H.map((function(e){return e.id})))},action:(0,P.jsx)(g.Z,{title:"Delete",children:(0,P.jsx)(y.Z,{color:"primary",onClick:function(){te(!0)},children:(0,P.jsx)(Z.Z,{icon:"eva:trash-2-outline"})})})}),(0,P.jsx)(w.Z,{children:(0,P.jsxs)(v.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,P.jsx)(R.K,{order:A,orderBy:F,headLabel:k,rowCount:H.length,numSelected:L.length,onSort:M,onSelectAllRows:function(e){return Q(e,H.map((function(e){return e.id})))}}),(0,P.jsxs)(x.Z,{children:[fe.slice(n*T,n*T+T).map((function(e){return(0,P.jsx)(b.m,{row:e,selected:L.includes(e.id),onSelectRow:function(){return B(null===e||void 0===e?void 0:e._id)},onDeleteRow:function(){return function(e){var t=H.filter((function(t){return t.id!==e}));N([]),J(t),n>0&&he.length<2&&q(n-1)}(null===e||void 0===e?void 0:e._id)},onEditRow:function(){return t=null===e||void 0===e?void 0:e._id,void W(j.vB.user.edit((0,r.o)(t)));var t}},null===e||void 0===e?void 0:e._id)})),(0,P.jsx)(R.$W,{height:ge,emptyRows:(0,R.fQ)(n,T,H.length)}),(0,P.jsx)(R.et,{isNotFound:ve})]})]})})]}),(0,P.jsx)(R.S_,{count:fe.length,page:n,rowsPerPage:T,onPageChange:U,onRowsPerPageChange:z,dense:t,onChangeDense:O})]})]}),(0,P.jsx)(E.Z,{open:ee,onClose:xe,title:"Delete",content:(0,P.jsxs)(P.Fragment,{children:["Are you sure want to delete"," ",(0,P.jsxs)("strong",{children:[" ",L.length," "]})," items?"]}),action:(0,P.jsx)(c.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var t=H.filter((function(t){return!e.includes(t.id)}));if(N([]),J(t),n>0)if(e.length===he.length)q(n-1);else if(e.length===fe.length)q(0);else if(e.length>he.length){var o=Math.ceil((H.length-e.length)/T)-1;q(o)}}(L),xe()},children:"Delete"})})]})}},48013:function(e,t,n){n.d(t,{Am:function(){return s},Ot:function(){return a},X2:function(){return r},hg:function(){return l},zF:function(){return u}});var o=n(93433),i=n(38452).hi.injectEndpoints({reducerPath:"apiUser",tagTypes:["employment","addEmployment"],endpoints:function(e){return{getEmployment:e.query({query:function(e){var t=e.page,n=e.limit;return"employment-applications?page=".concat(t,"&limit=").concat(n)},serializeQueryArgs:function(e){return e.endpointName},merge:function(e,t,n,i){return 1!==t.data.page||e.data.page?t.data.page>e.data.page?((r=e.data.users).push.apply(r,(0,o.Z)(t.data.users)),e.data.page=t.data.page,e):e:t;var r},forceRefetch:function(e){return e.currentArg!==e.previousArg},providesTags:["employments"]}),getEmploymentId:e.query({query:function(e){return"/employment-applications/".concat(e)},providesTags:["employments"]}),addEmployment:e.mutation({query:function(e){return{url:"/employment-applications",method:"POST",body:e,headers:{"Content-type":"application/json; charset=UTF-8"}}},invalidatesTags:["employments"]}),editEmployment:e.mutation({query:function(e){var t=e.formData,n=e.id;return{url:"/employment-applications/".concat(n),method:"put",body:t}},invalidatesTags:["employments"]}),deleteEmployment:e.mutation({query:function(t){return{url:"/employment-applications/".concat(t),method:"DELETE",body:e,headers:{"Content-type":"application/json; charset=UTF-8"}}},invalidatesTags:["employments"]})}}}),r=i.useGetEmploymentQuery,l=i.useAddEmploymentMutation,a=i.useEditEmploymentMutation,s=i.useGetEmploymentIdQuery,u=i.useDeleteEmploymentMutation}}]);