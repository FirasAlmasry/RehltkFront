"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[7312],{37312:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var l=t(29439),i=t(65964),o=t(73709),r=t(47313),a=t(58467),s=t(2135),u=t(70178),c=t(24193),d=t(73428),f=t(5297),h=t(65280),m=t(19536),g=t(51629),v=t(61689),p=t(47131),x=t(66835),j=t(57861),Z=t(48175),w=(t(81887),t(8730)),C=t(53261),S=t(58772),R=t(38875),_=t(50152),y=t(54045),b=t(67080),k=t(60670),D=t(46417),P=[],N=[{id:"companyName",label:"Company Name",align:"left"},{id:"name",label:"Name",align:"left"},{id:"email",label:"Email",align:"left"},{id:"address",label:"Address",align:"left"},{id:"phone",label:"phone",align:"center"},{id:"description",label:"Description",align:"left"},{id:""}];function L(){var e,n=(0,y.x6)(),t=n.dense,L=n.page,F=n.order,B=n.orderBy,A=n.rowsPerPage,E=n.setPage,K=n.selected,W=n.setSelected,O=n.onSelectRow,Q=n.onSelectAllRows,$=n.onSort,q=n.onChangeDense,z=n.onChangePage,I=n.onChangeRowsPerPage,M=(0,_.K$)().themeStretch,U=(0,a.s0)(),Y=(0,k.LK)({page:L+1,limit:A}),G=Y.data,H=(Y.isLoading,(0,r.useState)([])),J=(0,l.Z)(H,2),T=J[0],V=J[1];(0,r.useEffect)((function(){G&&V(G.data.companyOrders)}),[G]);var X=(0,r.useState)(!1),ee=(0,l.Z)(X,2),ne=ee[0],te=ee[1],le=(0,r.useState)(""),ie=(0,l.Z)(le,2),oe=ie[0],re=ie[1],ae=(0,r.useState)("all"),se=(0,l.Z)(ae,2),ue=se[0],ce=se[1],de=(0,r.useState)("all"),fe=(0,l.Z)(de,2),he=fe[0],me=fe[1],ge=function(e){var n,t,l,i,o=e.inputData,r=e.comparator,a=e.filterName,s=e.filterStatus,u=e.filterRole,c=null===(n=o)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));null===c||void 0===c||c.sort((function(e,n){var t=r(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),o=null===c||void 0===c?void 0:c.map((function(e){return e[0]})),a&&(o=null===(t=o)||void 0===t?void 0:t.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(a.toLowerCase())})));"all"!==s&&(o=null===(l=o)||void 0===l?void 0:l.filter((function(e){return e.active===s})));"all"!==u&&(o=null===(i=o)||void 0===i?void 0:i.filter((function(e){return e.role===u})));return o}({inputData:T,comparator:(0,y.sQ)(F,B),filterName:oe,filterRole:ue,filterStatus:he}),ve=null===ge||void 0===ge?void 0:ge.slice(L*A,L*A+A),pe=t?52:72,xe=""!==oe||"all"!==ue||"all"!==he,je=!(null!==ge&&void 0!==ge&&ge.length)&&!!oe||!(null!==ge&&void 0!==ge&&ge.length)&&!!ue||!(null!==ge&&void 0!==ge&&ge.length)&&!!he,Ze=function(){te(!1)},we=(0,k.u7)(),Ce=(0,l.Z)(we,1)[0];return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(i.ql,{children:(0,D.jsx)("title",{children:" Company: List | Rehltk"})}),(0,D.jsxs)(u.Z,{maxWidth:!M&&"lg",children:[(0,D.jsx)(R.Z,{heading:"Company List",links:[{name:"Dashboard",href:Z.vB.root},{name:"company",href:Z.vB.company.root},{name:"List"}],action:(0,D.jsx)(c.Z,{component:s.rU,to:Z.vB.company.new,variant:"contained",startIcon:(0,D.jsx)(w.Z,{icon:"eva:plus-fill"}),children:"New Company"})}),(0,D.jsxs)(d.Z,{children:[(0,D.jsx)(f.Z,{value:he,onChange:function(e,n){E(0),me(n)},sx:{px:2,bgcolor:"background.neutral"},children:P.map((function(e){return(0,D.jsx)(h.Z,{label:e,value:e},e)}))}),(0,D.jsx)(m.Z,{}),(0,D.jsx)(b.Y,{isFiltered:xe,filterName:oe,filterRole:ue,onFilterName:function(e){E(0),re(e.target.value)},onFilterRole:function(e){E(0),ce(e.target.value)},onResetFilter:function(){re(""),ce("all"),me("all")}}),(0,D.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,D.jsx)(y.Z4,{dense:t,numSelected:K.length,rowCount:T.length,onSelectAllRows:function(e){return Q(e,T.map((function(e){return e.id})))},action:(0,D.jsx)(v.Z,{title:"Delete",children:(0,D.jsx)(p.Z,{color:"primary",onClick:function(){te(!0)},children:(0,D.jsx)(w.Z,{icon:"eva:trash-2-outline"})})})}),(0,D.jsx)(C.Z,{children:(0,D.jsxs)(x.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,D.jsx)(y.K,{order:F,orderBy:B,headLabel:N,rowCount:T.length,numSelected:K.length,onSort:$,onSelectAllRows:function(e){return Q(e,T.map((function(e){return e.id})))}}),(0,D.jsxs)(j.Z,{children:[null===ge||void 0===ge||null===(e=ge.slice(L*A,L*A+A))||void 0===e?void 0:e.map((function(e){return(0,D.jsx)(b.R,{row:e,selected:K.includes(e._id),onSelectRow:function(){return O(e._id)},onDeleteRow:function(){return function(e){Ce(e);var n=null===T||void 0===T?void 0:T.filter((function(n){return n._id!==e}));W([]),V(n),L>0&&ve.length<2&&E(L-1)}(e._id)},onEditRow:function(){return n=e._id,void U(Z.vB.company.edit((0,o.o)(n)));var n}},e._id)})),(0,D.jsx)(y.$W,{height:pe,emptyRows:(0,y.fQ)(L,A,T.length)}),(0,D.jsx)(y.et,{isNotFound:je})]})]})})]}),(0,D.jsx)(y.S_,{count:null===G||void 0===G?void 0:G.data.totalDocs,page:L,rowsPerPage:A,onPageChange:z,onRowsPerPageChange:I,dense:t,onChangeDense:q})]})]}),(0,D.jsx)(S.Z,{open:ne,onClose:Ze,title:"Delete",content:(0,D.jsxs)(D.Fragment,{children:["Are you sure want to delete"," ",(0,D.jsxs)("strong",{children:[" ",K.length," "]})," items?"]}),action:(0,D.jsx)(c.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=null===T||void 0===T?void 0:T.filter((function(n){return!e.includes(n._id)}));if(W([]),V(n),L>0)if(e.length===ve.length)E(L-1);else if(e.length===ge.length)E(0);else if(e.length>ve.length){var t=Math.ceil((T.length-e.length)/A)-1;E(t)}}(K),Ze()},children:"Delete"})})]})}}}]);