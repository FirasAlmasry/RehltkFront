"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[7312],{37312:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var l=t(29439),i=t(65964),r=t(73709),o=t(47313),a=t(58467),s=t(2135),c=t(70178),u=t(24193),d=t(73428),f=t(5297),h=t(65280),m=t(19536),g=t(51629),p=t(61689),x=t(47131),j=t(66835),v=t(57861),Z=t(48175),w=(t(81887),t(8730)),C=t(53261),S=t(58772),R=t(38875),_=t(50152),y=t(54045),b=t(67080),k=t(60670),P=t(46417),D=[],N=[{id:"companyName",label:"Company Name",align:"left"},{id:"name",label:"Name",align:"left"},{id:"email",label:"Email",align:"left"},{id:"address",label:"Address",align:"left"},{id:"phone",label:"phone",align:"center"},{id:"description",label:"Description",align:"left"},{id:""}];function L(){var e=(0,k.LK)(),n=e.data,t=(e.isLoading,(0,y.x6)()),L=t.dense,F=t.page,B=t.order,A=t.orderBy,E=t.rowsPerPage,K=t.setPage,W=t.selected,O=t.setSelected,Q=t.onSelectRow,$=t.onSelectAllRows,q=t.onSort,z=t.onChangeDense,I=t.onChangePage,M=t.onChangeRowsPerPage,U=(0,_.K$)().themeStretch,Y=(0,a.s0)(),G=(0,o.useState)([]),H=(0,l.Z)(G,2),J=H[0],T=H[1];(0,o.useEffect)((function(){n&&T(n.data.companyOrders)}),[n]);var V=(0,o.useState)(!1),X=(0,l.Z)(V,2),ee=X[0],ne=X[1],te=(0,o.useState)(""),le=(0,l.Z)(te,2),ie=le[0],re=le[1],oe=(0,o.useState)("all"),ae=(0,l.Z)(oe,2),se=ae[0],ce=ae[1],ue=(0,o.useState)("all"),de=(0,l.Z)(ue,2),fe=de[0],he=de[1],me=function(e){var n=e.inputData,t=e.comparator,l=e.filterName,i=e.filterStatus,r=e.filterRole,o=n.map((function(e,n){return[e,n]}));o.sort((function(e,n){var l=t(e[0],n[0]);return 0!==l?l:e[1]-n[1]})),n=o.map((function(e){return e[0]})),l&&(n=n.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(l.toLowerCase())})));"all"!==i&&(n=n.filter((function(e){return e.active===i})));"all"!==r&&(n=n.filter((function(e){return e.role===r})));return n}({inputData:J,comparator:(0,y.sQ)(B,A),filterName:ie,filterRole:se,filterStatus:fe}),ge=me.slice(F*E,F*E+E),pe=L?52:72,xe=""!==ie||"all"!==se||"all"!==fe,je=!me.length&&!!ie||!me.length&&!!se||!me.length&&!!fe,ve=function(){ne(!1)},Ze=(0,k.u7)(),we=(0,l.Z)(Ze,1)[0];return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.ql,{children:(0,P.jsx)("title",{children:" Company: List | Rehltk"})}),(0,P.jsxs)(c.Z,{maxWidth:!U&&"lg",children:[(0,P.jsx)(R.Z,{heading:"Company List",links:[{name:"Dashboard",href:Z.vB.root},{name:"company",href:Z.vB.company.root},{name:"List"}],action:(0,P.jsx)(u.Z,{component:s.rU,to:Z.vB.company.new,variant:"contained",startIcon:(0,P.jsx)(w.Z,{icon:"eva:plus-fill"}),children:"New Company"})}),(0,P.jsxs)(d.Z,{children:[(0,P.jsx)(f.Z,{value:fe,onChange:function(e,n){K(0),he(n)},sx:{px:2,bgcolor:"background.neutral"},children:D.map((function(e){return(0,P.jsx)(h.Z,{label:e,value:e},e)}))}),(0,P.jsx)(m.Z,{}),(0,P.jsx)(b.Y,{isFiltered:xe,filterName:ie,filterRole:se,onFilterName:function(e){K(0),re(e.target.value)},onFilterRole:function(e){K(0),ce(e.target.value)},onResetFilter:function(){re(""),ce("all"),he("all")}}),(0,P.jsxs)(g.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,P.jsx)(y.Z4,{dense:L,numSelected:W.length,rowCount:J.length,onSelectAllRows:function(e){return $(e,J.map((function(e){return e.id})))},action:(0,P.jsx)(p.Z,{title:"Delete",children:(0,P.jsx)(x.Z,{color:"primary",onClick:function(){ne(!0)},children:(0,P.jsx)(w.Z,{icon:"eva:trash-2-outline"})})})}),(0,P.jsx)(C.Z,{children:(0,P.jsxs)(j.Z,{size:L?"small":"medium",sx:{minWidth:800},children:[(0,P.jsx)(y.K,{order:B,orderBy:A,headLabel:N,rowCount:J.length,numSelected:W.length,onSort:q,onSelectAllRows:function(e){return $(e,J.map((function(e){return e.id})))}}),(0,P.jsxs)(v.Z,{children:[me.slice(F*E,F*E+E).map((function(e){return(0,P.jsx)(b.R,{row:e,selected:W.includes(e._id),onSelectRow:function(){return Q(e._id)},onDeleteRow:function(){return function(e){we(e);var n=J.filter((function(n){return n._id!==e}));O([]),T(n),F>0&&ge.length<2&&K(F-1)}(e._id)},onEditRow:function(){return n=e._id,void Y(Z.vB.company.edit((0,r.o)(n)));var n}},e._id)})),(0,P.jsx)(y.$W,{height:pe,emptyRows:(0,y.fQ)(F,E,J.length)}),(0,P.jsx)(y.et,{isNotFound:je})]})]})})]}),(0,P.jsx)(y.S_,{count:me.length,page:F,rowsPerPage:E,onPageChange:I,onRowsPerPageChange:M,dense:L,onChangeDense:z})]})]}),(0,P.jsx)(S.Z,{open:ee,onClose:ve,title:"Delete",content:(0,P.jsxs)(P.Fragment,{children:["Are you sure want to delete"," ",(0,P.jsxs)("strong",{children:[" ",W.length," "]})," items?"]}),action:(0,P.jsx)(u.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=J.filter((function(n){return!e.includes(n._id)}));if(O([]),T(n),F>0)if(e.length===ge.length)K(F-1);else if(e.length===me.length)K(0);else if(e.length>ge.length){var t=Math.ceil((J.length-e.length)/E)-1;K(t)}}(W),ve()},children:"Delete"})})]})}}}]);