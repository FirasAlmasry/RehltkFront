"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[3207],{63207:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var l=n(29439),r=n(65964),i=n(73709),o=n(47313),a=n(58467),s=n(2135),u=n(70178),c=n(24193),d=n(73428),f=n(5297),h=n(65280),g=n(19536),m=n(51629),x=n(61689),j=n(47131),v=n(66835),p=n(57861),w=n(48175),Z=(n(81887),n(8730)),S=n(53261),C=n(58772),R=n(38875),b=n(50152),P=n(54045),k=n(59602),D=n(7436),L=n(46417),T=[],_=[{id:"country",label:"country",align:"left"},{id:"imageUrl",label:"Image",align:"left"},{id:"description",label:"Description",align:"left"},{id:"title",label:"Title",align:"left"},{id:"subTitle",label:"Sub Title",align:"left"},{id:"price",label:"price",align:"left"},{id:""}];function y(){var e=(0,P.x6)(),t=e.dense,n=e.page,y=e.order,F=e.orderBy,B=e.rowsPerPage,N=e.setPage,A=e.selected,W=e.setSelected,E=e.onSelectRow,I=e.onSelectAllRows,K=e.onSort,O=e.onChangeDense,Q=e.onChangePage,U=e.onChangeRowsPerPage,$=(0,b.K$)().themeStretch,q=(0,a.s0)(),z=(0,D.a1)(),M=z.data;z.isLoading;console.log("\ud83d\ude80 ~ file: ToursListPage.js:66 ~ ToursListPage ~ data:",M);var G=(0,o.useState)([]),H=(0,l.Z)(G,2),J=H[0],V=H[1];(0,o.useEffect)((function(){M&&V(M.data.countryTourss)}),[M]);var X=(0,o.useState)(!1),Y=(0,l.Z)(X,2),ee=Y[0],te=Y[1],ne=(0,o.useState)(""),le=(0,l.Z)(ne,2),re=le[0],ie=le[1],oe=(0,o.useState)("all"),ae=(0,l.Z)(oe,2),se=ae[0],ue=ae[1],ce=(0,o.useState)("all"),de=(0,l.Z)(ce,2),fe=de[0],he=de[1],ge=function(e){var t=e.inputData,n=e.comparator,l=e.filterName,r=e.filterStatus,i=e.filterRole,o=t.map((function(e,t){return[e,t]}));o.sort((function(e,t){var l=n(e[0],t[0]);return 0!==l?l:e[1]-t[1]})),t=o.map((function(e){return e[0]})),l&&(t=t.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(l.toLowerCase())})));"all"!==r&&(t=t.filter((function(e){return e.active===r})));"all"!==i&&(t=t.filter((function(e){return e.role===i})));return t}({inputData:J,comparator:(0,P.sQ)(y,F),filterName:re,filterRole:se,filterStatus:fe}),me=ge.slice(n*B,n*B+B),xe=t?52:72,je=""!==re||"all"!==se||"all"!==fe,ve=!ge.length&&!!re||!ge.length&&!!se||!ge.length&&!!fe,pe=function(){te(!1)};return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(r.ql,{children:(0,L.jsx)("title",{children:" Tour: List | Rehltk"})}),(0,L.jsxs)(u.Z,{maxWidth:!$&&"lg",children:[(0,L.jsx)(R.Z,{heading:"Tour List",links:[{name:"Dashboard",href:w.vB.root},{name:"tour",href:w.vB.tour.root},{name:"Order List"}],action:(0,L.jsx)(c.Z,{component:s.rU,to:w.vB.tour.new,variant:"contained",startIcon:(0,L.jsx)(Z.Z,{icon:"eva:plus-fill"}),children:"New Tour"})}),(0,L.jsxs)(d.Z,{children:[(0,L.jsx)(f.Z,{value:fe,onChange:function(e,t){N(0),he(t)},sx:{px:2,bgcolor:"background.neutral"},children:T.map((function(e){return(0,L.jsx)(h.Z,{label:e,value:e},e)}))}),(0,L.jsx)(g.Z,{}),(0,L.jsx)(k.S,{isFiltered:je,filterName:re,filterRole:se,onFilterName:function(e){N(0),ie(e.target.value)},onFilterRole:function(e){N(0),ue(e.target.value)},onResetFilter:function(){ie(""),ue("all"),he("all")}}),(0,L.jsxs)(m.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,L.jsx)(P.Z4,{dense:t,numSelected:A.length,rowCount:J.length,onSelectAllRows:function(e){return I(e,J.map((function(e){return e.id})))},action:(0,L.jsx)(x.Z,{title:"Delete",children:(0,L.jsx)(j.Z,{color:"primary",onClick:function(){te(!0)},children:(0,L.jsx)(Z.Z,{icon:"eva:trash-2-outline"})})})}),(0,L.jsx)(S.Z,{children:(0,L.jsxs)(v.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,L.jsx)(P.K,{order:y,orderBy:F,headLabel:_,rowCount:J.length,numSelected:A.length,onSort:K,onSelectAllRows:function(e){return I(e,J.map((function(e){return e.id})))}}),(0,L.jsxs)(p.Z,{children:[ge.slice(n*B,n*B+B).map((function(e){return(0,L.jsx)(k.v,{row:e,selected:A.includes(e.id),onSelectRow:function(){return E(e.id)},onDeleteRow:function(){return function(e){var t=J.filter((function(t){return t.id!==e}));W([]),V(t),n>0&&me.length<2&&N(n-1)}(e.id)},onEditRow:function(){return t=e.name,void q(w.vB.tour.edit((0,i.o)(t)));var t}},e.id)})),(0,L.jsx)(P.$W,{height:xe,emptyRows:(0,P.fQ)(n,B,J.length)}),(0,L.jsx)(P.et,{isNotFound:ve})]})]})})]}),(0,L.jsx)(P.S_,{count:ge.length,page:n,rowsPerPage:B,onPageChange:Q,onRowsPerPageChange:U,dense:t,onChangeDense:O})]})]}),(0,L.jsx)(C.Z,{open:ee,onClose:pe,title:"Delete",content:(0,L.jsxs)(L.Fragment,{children:["Are you sure want to delete"," ",(0,L.jsxs)("strong",{children:[" ",A.length," "]})," items?"]}),action:(0,L.jsx)(c.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var t=J.filter((function(t){return!e.includes(t.id)}));if(W([]),V(t),n>0)if(e.length===me.length)N(n-1);else if(e.length===ge.length)N(0);else if(e.length>me.length){var l=Math.ceil((J.length-e.length)/B)-1;N(l)}}(A),pe()},children:"Delete"})})]})}}}]);