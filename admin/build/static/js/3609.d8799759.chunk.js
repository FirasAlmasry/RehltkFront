"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[3609],{93609:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var l=t(74165),i=t(15861),o=t(29439),r=t(65964),a=t(73709),u=t(47313),s=t(58467),d=t(2135),c=t(70178),v=t(24193),f=t(73428),h=t(5297),g=t(65280),m=t(19536),x=t(51629),p=t(61689),j=t(47131),Z=t(66835),w=t(57861),S=t(48175),R=(t(81887),t(8730)),C=t(53261),_=t(58772),b=t(38875),k=t(50152),P=t(54045),D=t(59602),y=t(7436),F=t(46417),L=[],T=["all","activ","unActiv"],B=[{id:"country",label:"country",align:"left"},{id:"imageUrl",label:"Image",align:"left"},{id:"description",label:"Description",align:"left"},{id:"title",label:"Title",align:"left"},{id:"subTitle",label:"Sub Title",align:"left"},{id:"price",label:"price",align:"left"},{id:""}];function N(){var e,n=(0,P.x6)(),t=n.dense,N=n.page,A=n.order,U=n.orderBy,W=n.rowsPerPage,E=n.setPage,I=n.selected,K=n.setSelected,Q=n.onSelectRow,$=n.onSelectAllRows,q=n.onSort,z=n.onChangeDense,M=n.onChangePage,O=n.onChangeRowsPerPage,G=(0,k.K$)().themeStretch,H=(0,s.s0)(),J=(0,u.useState)([]),V=(0,o.Z)(J,2),X=V[0],Y=V[1],ee=(0,y.a1)(),ne=ee.data;ee.isLoading;(0,u.useEffect)((function(){ne&&Y(ne.data.countryTourss)}),[ne]);var te=(0,u.useState)(!1),le=(0,o.Z)(te,2),ie=le[0],oe=le[1],re=(0,u.useState)(""),ae=(0,o.Z)(re,2),ue=ae[0],se=ae[1],de=(0,u.useState)("all"),ce=(0,o.Z)(de,2),ve=ce[0],fe=ce[1],he=(0,u.useState)("all"),ge=(0,o.Z)(he,2),me=ge[0],xe=ge[1],pe=function(e){var n,t,l=e.inputData,i=e.comparator,o=e.filterName,r=e.filterStatus,a=e.filterRole,u=null===(n=l)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));null===u||void 0===u||u.sort((function(e,n){var t=i(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),l=null===u||void 0===u?void 0:u.map((function(e){return e[0]})),o&&(l=null===(t=l)||void 0===t?void 0:t.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(o.toLowerCase())})));"all"!==r&&(l=l.filter((function(e){return e.active===r})));"all"!==a&&(l=l.filter((function(e){return e.role===a})));return l}({inputData:X,comparator:(0,P.sQ)(A,U),filterName:ue,filterRole:ve,filterStatus:me}),je=null===pe||void 0===pe?void 0:pe.slice(N*W,N*W+W),Ze=t?52:72,we=""!==ue||"all"!==ve||"all"!==me,Se=!(null!==pe&&void 0!==pe&&pe.length)&&!!ue||!(null!==pe&&void 0!==pe&&pe.length)&&!!ve||!(null!==pe&&void 0!==pe&&pe.length)&&!!me,Re=function(){oe(!1)},Ce=(0,y.U1)(),_e=(0,o.Z)(Ce,1)[0],be=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(n);case 2:t=null===X||void 0===X?void 0:X.filter((function(e){return e._id!==n})),K([]),Y(t),N>0&&je.length<2&&E(N-1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(r.ql,{children:(0,F.jsx)("title",{children:" Tour: List | Rehltk"})}),(0,F.jsxs)(c.Z,{maxWidth:!G&&"lg",children:[(0,F.jsx)(b.Z,{heading:"Tour List",links:[{name:"Dashboard",href:S.vB.root},{name:"tour",href:S.vB.tour.root},{name:"List"}],action:(0,F.jsx)(v.Z,{component:d.rU,to:S.vB.tour.new,variant:"contained",startIcon:(0,F.jsx)(R.Z,{icon:"eva:plus-fill"}),children:"New Tour"})}),(0,F.jsxs)(f.Z,{children:[(0,F.jsx)(h.Z,{value:me,onChange:function(e,n){E(0),xe(n)},sx:{px:2,bgcolor:"background.neutral"},children:L.map((function(e){return(0,F.jsx)(g.Z,{label:e,value:e},e)}))}),(0,F.jsx)(m.Z,{}),(0,F.jsx)(D.S,{isFiltered:we,filterName:ue,filterRole:ve,optionsRole:T,onFilterName:function(e){E(0),se(e.target.value)},onFilterRole:function(e){E(0),fe(e.target.value)},onResetFilter:function(){se(""),fe("all"),xe("all")}}),(0,F.jsxs)(x.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,F.jsx)(P.Z4,{dense:t,numSelected:null===I||void 0===I?void 0:I.length,rowCount:null===X||void 0===X?void 0:X.length,onSelectAllRows:function(e){return $(e,X.map((function(e){return null===e||void 0===e?void 0:e.id})))},action:(0,F.jsx)(p.Z,{title:"Delete",children:(0,F.jsx)(j.Z,{color:"primary",onClick:function(){oe(!0)},children:(0,F.jsx)(R.Z,{icon:"eva:trash-2-outline"})})})}),(0,F.jsx)(C.Z,{children:(0,F.jsxs)(Z.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,F.jsx)(P.K,{order:A,orderBy:U,headLabel:B,rowCount:null===X||void 0===X?void 0:X.length,numSelected:null===I||void 0===I?void 0:I.length,onSort:q,onSelectAllRows:function(e){return $(e,null===X||void 0===X?void 0:X.map((function(e){return e._id})))}}),(0,F.jsxs)(w.Z,{children:[null===pe||void 0===pe||null===(e=pe.slice(N*W,N*W+W))||void 0===e?void 0:e.map((function(e){return(0,F.jsx)(D.v,{row:e,selected:I.includes(e._id),onSelectRow:function(){return Q(e._id)},onDeleteRow:function(){return be(e._id)},onEditRow:function(){return n=e._id,void H(S.vB.tour.edit((0,a.o)(n)));var n}},e._id)})),(0,F.jsx)(P.$W,{height:Ze,emptyRows:(0,P.fQ)(N,W,null===X||void 0===X?void 0:X.length)}),(0,F.jsx)(P.et,{isNotFound:Se})]})]})})]}),(0,F.jsx)(P.S_,{count:null===pe||void 0===pe?void 0:pe.length,page:N,rowsPerPage:W,onPageChange:M,onRowsPerPageChange:O,dense:t,onChangeDense:z})]})]}),(0,F.jsx)(_.Z,{open:ie,onClose:Re,title:"Delete",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to delete"," ",(0,F.jsxs)("strong",{children:[" ",I.length," "]})," items?"]}),action:(0,F.jsx)(v.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=null===X||void 0===X?void 0:X.filter((function(n){return!e.includes(n.id)}));if(K([]),Y(n),N>0)if(e.length===(null===je||void 0===je?void 0:je.length))E(N-1);else if(e.length===(null===pe||void 0===pe?void 0:pe.length))E(0);else if(e.length>(null===je||void 0===je?void 0:je.length)){var t=Math.ceil((X.length-(null===e||void 0===e?void 0:e.length))/W)-1;E(t)}}(I),Re()},children:"Delete"})})]})}}}]);