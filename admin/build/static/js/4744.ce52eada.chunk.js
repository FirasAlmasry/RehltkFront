"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4744],{24744:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var r=t(29439),l=t(65964),i=t(73709),o=t(47313),a=t(58467),s=t(70178),d=t(73428),u=t(5297),c=t(65280),g=t(19536),f=t(51629),v=t(61689),h=t(47131),m=t(66835),p=t(57861),x=t(24193),j=t(48175),Z=(t(81887),t(8730)),w=t(53261),S=t(58772),P=t(38875),y=t(50152),C=t(54045),R=t(56859),O=t(38452),b=t(93433),D=O.hi.injectEndpoints({reducerPath:"apiUser",tagTypes:["User","addUser"],endpoints:function(e){return{getUserOrder:e.query({query:function(e){var n=e.page,t=e.limit;return"user-orders?page=".concat(n,"&limit=").concat(t)},serializeQueryArgs:function(e){return e.endpointName},merge:function(e,n,t,r){return console.log(n.data.page,e.data.page),console.log("\ud83d\ude80 ~ file: ApiUserOrders.js:17 ~ merge ~ currentCacheData:",e),console.log("\ud83d\ude80 ~ file: ApiUserOrders.js:17 ~ merge ~ responseData:",n),1!==n.data.page||e.data.page?n.data.page>e.data.page?((l=e.data.userOrders).push.apply(l,(0,b.Z)(n.data.userOrders)),e.data.page=n.data.page,e):e:n;var l},forceRefetch:function(e){return e.currentArg!==e.previousArg},providesTags:["users"]}),addUserOrder:e.mutation({query:function(e){return{url:"/user-orders",method:"POST",body:e}},invalidatesTags:["users"]})}}}),U=D.useGetUserOrderQuery,_=(D.useAddUserOrderMutation,t(46417)),k=[],A=[{id:"name",label:"Name",align:"left"},{id:"Email",label:"Email",align:"left"},{id:"description",label:"Descraption",align:"left"},{id:"address",label:"Address",align:"left"},{id:"country",label:"country",align:"left"},{id:"Phone",label:"Phone",align:"left"},{id:""}];function L(){var e,n=(0,C.x6)(),t=n.dense,O=n.page,b=n.order,D=n.orderBy,L=n.rowsPerPage,E=n.setPage,F=n.selected,N=n.setSelected,B=n.onSelectRow,q=n.onSelectAllRows,Q=n.onSort,T=n.onChangeDense,W=n.onChangePage,z=n.onChangeRowsPerPage,K=(0,y.K$)().themeStretch,M=(0,a.s0)(),$=U({page:O+1,limit:L}),G=$.data;$.isLoading;console.log("\ud83d\ude80 ~ file: UserOrderListPage.js:97 ~ EmploymentOrderListPage ~ data:",G);var H=(0,o.useState)([]),I=(0,r.Z)(H,2),J=I[0],V=I[1];console.log("\ud83d\ude80 ~ file: UserOrderListPage.js:98 ~ EmploymentOrderListPage ~ tableData:",J),(0,o.useEffect)((function(){G&&V(G.data.userOrders)}),[G]);var X=(0,o.useState)(!1),Y=(0,r.Z)(X,2),ee=Y[0],ne=Y[1],te=(0,o.useState)(""),re=(0,r.Z)(te,2),le=re[0],ie=re[1],oe=(0,o.useState)("all"),ae=(0,r.Z)(oe,2),se=ae[0],de=ae[1],ue=(0,o.useState)("all"),ce=(0,r.Z)(ue,2),ge=ce[0],fe=ce[1],ve=function(e){var n,t,r,l,i=e.inputData,o=e.comparator,a=e.filterName,s=e.filterStatus,d=e.filterRole,u=null===(n=i)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));null===u||void 0===u||u.sort((function(e,n){var t=o(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),i=null===u||void 0===u?void 0:u.map((function(e){return e[0]})),a&&(i=null===(t=i)||void 0===t?void 0:t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.toLowerCase())})));"all"!==s&&(i=null===(r=i)||void 0===r?void 0:r.filter((function(e){return e.active===s})));"all"!==d&&(i=null===(l=i)||void 0===l?void 0:l.filter((function(e){return e.role===d})));return i}({inputData:J,comparator:(0,C.sQ)(b,D),filterName:le,filterRole:se,filterStatus:ge}),he=null===ve||void 0===ve?void 0:ve.slice(O*L,O*L+L),me=t?52:72,pe=""!==le||"all"!==se||"all"!==ge,xe=!(null!==ve&&void 0!==ve&&ve.length)&&!!le||!(null!==ve&&void 0!==ve&&ve.length)&&!!se||!(null!==ve&&void 0!==ve&&ve.length)&&!!ge,je=function(){ne(!1)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(l.ql,{children:(0,_.jsx)("title",{children:" User: List | Rehltk"})}),(0,_.jsxs)(s.Z,{maxWidth:!K&&"lg",children:[(0,_.jsx)(P.Z,{heading:"User List",links:[{name:"Dashboard",href:j.vB.root},{name:"User",href:j.vB.user.root},{name:"Order List"}]}),(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(u.Z,{value:ge,onChange:function(e,n){E(0),fe(n)},sx:{px:2,bgcolor:"background.neutral"},children:k.map((function(e){return(0,_.jsx)(c.Z,{label:e,value:e},e)}))}),(0,_.jsx)(g.Z,{}),(0,_.jsx)(R.Z,{isFiltered:pe,filterName:le,filterRole:se,onFilterName:function(e){E(0),ie(e.target.value)},onFilterRole:function(e){E(0),de(e.target.value)},onResetFilter:function(){ie(""),de("all"),fe("all")}}),(0,_.jsxs)(f.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,_.jsx)(C.Z4,{dense:t,numSelected:null===F||void 0===F?void 0:F.length,rowCount:null===J||void 0===J?void 0:J.length,onSelectAllRows:function(e){return q(e,J.map((function(e){return e.id})))},action:(0,_.jsx)(v.Z,{title:"Delete",children:(0,_.jsx)(h.Z,{color:"primary",onClick:function(){ne(!0)},children:(0,_.jsx)(Z.Z,{icon:"eva:trash-2-outline"})})})}),(0,_.jsx)(w.Z,{children:(0,_.jsxs)(m.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,_.jsx)(C.K,{order:b,orderBy:D,headLabel:A,rowCount:null===J||void 0===J?void 0:J.length,numSelected:null===F||void 0===F?void 0:F.length,onSort:Q,onSelectAllRows:function(e){return q(e,null===J||void 0===J?void 0:J.map((function(e){return e.id})))}}),(0,_.jsxs)(p.Z,{children:[null===ve||void 0===ve||null===(e=ve.slice(O*L,O*L+L))||void 0===e?void 0:e.map((function(e){return(0,_.jsx)(R.m,{row:e,selected:F.includes(null===e||void 0===e?void 0:e._id),onSelectRow:function(){return B(null===e||void 0===e?void 0:e._id)},onDeleteRow:function(){return function(e){var n=J.filter((function(n){return n.id!==e}));N([]),V(n),O>0&&he.length<2&&E(O-1)}(null===e||void 0===e?void 0:e._id)},onEditRow:function(){return n=null===e||void 0===e?void 0:e._id,void M(j.vB.user.edit((0,i.o)(n)));var n}},null===e||void 0===e?void 0:e._id)})),(0,_.jsx)(C.$W,{height:me,emptyRows:(0,C.fQ)(O,L,null===J||void 0===J?void 0:J.length)}),(0,_.jsx)(C.et,{isNotFound:xe})]})]})})]}),(0,_.jsx)(C.S_,{count:null===G||void 0===G?void 0:G.data.totalDocs,page:O,rowsPerPage:L,onPageChange:W,onRowsPerPageChange:z,dense:t,onChangeDense:T})]})]}),(0,_.jsx)(S.Z,{open:ee,onClose:je,title:"Delete",content:(0,_.jsxs)(_.Fragment,{children:["Are you sure want to delete"," ",(0,_.jsxs)("strong",{children:[" ",null===F||void 0===F?void 0:F.length," "]})," items?"]}),action:(0,_.jsx)(x.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=J.filter((function(n){return!e.includes(n.id)}));if(N([]),V(n),O>0)if(e.length===he.length)E(O-1);else if(e.length===ve.length)E(0);else if(e.length>he.length){var t=Math.ceil((J.length-e.length)/L)-1;E(t)}}(F),je()},children:"Delete"})})]})}}}]);