"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[4744],{24744:function(e,n,t){t.r(n),t.d(n,{default:function(){return T}});var r=t(74165),i=t(15861),l=t(29439),o=t(65964),a=t(73709),s=t(47313),u=t(58467),d=t(70178),c=t(73428),f=t(5297),v=t(65280),g=t(19536),h=t(51629),m=t(61689),p=t(47131),x=t(66835),j=t(57861),Z=t(24193),w=t(48175),S=(t(81887),t(23116)),y=t(53261),C=t(58772),R=t(38875),_=t(50152),b=t(54045),P=t(56859),D=t(38452),U=t(93433),k=D.hi.injectEndpoints({reducerPath:"apiUser",tagTypes:["User","addUser"],endpoints:function(e){return{getUserOrder:e.query({query:function(e){var n=e.page,t=e.limit;return"user-orders?page=".concat(n,"&limit=").concat(t)},serializeQueryArgs:function(e){return e.endpointName},merge:function(e,n,t,r){return 1!==n.data.page||e.data.page?n.data.page>e.data.page?((i=e.data.userOrders).push.apply(i,(0,U.Z)(n.data.userOrders)),e.data.page=n.data.page,e):e:n;var i},forceRefetch:function(e){return e.currentArg!==e.previousArg},providesTags:["users"]}),addUserOrder:e.mutation({query:function(e){return{url:"/user-orders",method:"POST",body:e}},invalidatesTags:["users"]}),deleteUserOrders:e.mutation({query:function(n){return{url:"/user-orders/".concat(n),method:"Delete",body:e,headers:{"Content-type":"application/json; charset=UTF-8"}}},invalidatesTags:["users"]})}}}),O=k.useGetUserOrderQuery,A=(k.useAddUserOrderMutation,k.useDeleteUserOrdersMutation),F=t(46417),L=[],N=[{id:"name",label:"Name",align:"left"},{id:"Email",label:"Email",align:"left"},{id:"description",label:"Descraption",align:"left"},{id:"address",label:"Address",align:"left"},{id:"country",label:"country",align:"left"},{id:"Phone",label:"Phone",align:"left"},{id:""}];function T(){var e,n=(0,b.x6)(),t=n.dense,D=n.page,U=n.order,k=n.orderBy,T=n.rowsPerPage,q=n.setPage,B=n.selected,E=n.setSelected,Q=n.onSelectRow,M=n.onSelectAllRows,W=n.onSort,z=n.onChangeDense,K=n.onChangePage,$=n.onChangeRowsPerPage,G=(0,_.K$)().themeStretch,H=(0,u.s0)(),I=O({page:D+1,limit:T}),J=I.data,V=(I.isLoading,(0,s.useState)([])),X=(0,l.Z)(V,2),Y=X[0],ee=X[1];(0,s.useEffect)((function(){J&&ee(J.data.userOrders)}),[J]);var ne=(0,s.useState)(!1),te=(0,l.Z)(ne,2),re=te[0],ie=te[1],le=(0,s.useState)(""),oe=(0,l.Z)(le,2),ae=oe[0],se=oe[1],ue=(0,s.useState)("all"),de=(0,l.Z)(ue,2),ce=de[0],fe=de[1],ve=(0,s.useState)("all"),ge=(0,l.Z)(ve,2),he=ge[0],me=ge[1],pe=function(e){var n,t,r,i,l=e.inputData,o=e.comparator,a=e.filterName,s=e.filterStatus,u=e.filterRole,d=null===(n=l)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));null===d||void 0===d||d.sort((function(e,n){var t=o(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),l=null===d||void 0===d?void 0:d.map((function(e){return e[0]})),a&&(l=null===(t=l)||void 0===t?void 0:t.filter((function(e){return-1!==e.name.toLowerCase().indexOf(a.toLowerCase())})));"all"!==s&&(l=null===(r=l)||void 0===r?void 0:r.filter((function(e){return e.active===s})));"all"!==u&&(l=null===(i=l)||void 0===i?void 0:i.filter((function(e){return e.role===u})));return l}({inputData:Y,comparator:(0,b.sQ)(U,k),filterName:ae,filterRole:ce,filterStatus:he}),xe=null===pe||void 0===pe?void 0:pe.slice(D*T,D*T+T),je=t?52:72,Ze=""!==ae||"all"!==ce||"all"!==he,we=!(null!==pe&&void 0!==pe&&pe.length)&&!!ae||!(null!==pe&&void 0!==pe&&pe.length)&&!!ce||!(null!==pe&&void 0!==pe&&pe.length)&&!!he,Se=function(){ie(!1)},ye=A(),Ce=(0,l.Z)(ye,1)[0],Re=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(n);case 2:t=Y.filter((function(e){return e._id!==n})),E([]),ee(t),D>0&&xe.length<2&&q(D-1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(o.ql,{children:(0,F.jsx)("title",{children:" User: List | Rehltk"})}),(0,F.jsxs)(d.Z,{maxWidth:!G&&"lg",children:[(0,F.jsx)(R.Z,{heading:"User List",links:[{name:"Dashboard",href:w.vB.root},{name:"User",href:w.vB.user.root},{name:"Order List"}]}),(0,F.jsxs)(c.Z,{children:[(0,F.jsx)(f.Z,{value:he,onChange:function(e,n){q(0),me(n)},sx:{px:2,bgcolor:"background.neutral"},children:L.map((function(e){return(0,F.jsx)(v.Z,{label:e,value:e},e)}))}),(0,F.jsx)(g.Z,{}),(0,F.jsx)(P.Z,{isFiltered:Ze,filterName:ae,filterRole:ce,onFilterName:function(e){q(0),se(e.target.value)},onFilterRole:function(e){q(0),fe(e.target.value)},onResetFilter:function(){se(""),fe("all"),me("all")}}),(0,F.jsxs)(h.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,F.jsx)(b.Z4,{dense:t,numSelected:null===B||void 0===B?void 0:B.length,rowCount:null===Y||void 0===Y?void 0:Y.length,onSelectAllRows:function(e){return M(e,Y.map((function(e){return e.id})))},action:(0,F.jsx)(m.Z,{title:"Delete",children:(0,F.jsx)(p.Z,{color:"primary",onClick:function(){ie(!0)},children:(0,F.jsx)(S.Z,{icon:"eva:trash-2-outline"})})})}),(0,F.jsx)(y.Z,{children:(0,F.jsxs)(x.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,F.jsx)(b.K,{order:U,orderBy:k,headLabel:N,rowCount:null===Y||void 0===Y?void 0:Y.length,numSelected:null===B||void 0===B?void 0:B.length,onSort:W,onSelectAllRows:function(e){return M(e,null===Y||void 0===Y?void 0:Y.map((function(e){return e.id})))}}),(0,F.jsxs)(j.Z,{children:[null===pe||void 0===pe||null===(e=pe.slice(D*T,D*T+T))||void 0===e?void 0:e.map((function(e){return(0,F.jsx)(P.m,{row:e,selected:B.includes(null===e||void 0===e?void 0:e._id),onSelectRow:function(){return Q(null===e||void 0===e?void 0:e._id)},onDeleteRow:function(){return Re(null===e||void 0===e?void 0:e._id)},onEditRow:function(){return n=null===e||void 0===e?void 0:e._id,void H(w.vB.user.edit((0,a.o)(n)));var n}},null===e||void 0===e?void 0:e._id)})),(0,F.jsx)(b.$W,{height:je,emptyRows:(0,b.fQ)(D,T,null===Y||void 0===Y?void 0:Y.length)}),(0,F.jsx)(b.et,{isNotFound:we})]})]})})]}),(0,F.jsx)(b.S_,{count:null===J||void 0===J?void 0:J.data.totalDocs,page:D,rowsPerPage:T,onPageChange:K,onRowsPerPageChange:$,dense:t,onChangeDense:z})]})]}),(0,F.jsx)(C.Z,{open:re,onClose:Se,title:"Delete",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to delete"," ",(0,F.jsxs)("strong",{children:[" ",null===B||void 0===B?void 0:B.length," "]})," items?"]}),action:(0,F.jsx)(Z.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=Y.filter((function(n){return!e.includes(n._id)}));if(E([]),ee(n),D>0)if(e.length===xe.length)q(D-1);else if(e.length===pe.length)q(0);else if(e.length>xe.length){var t=Math.ceil((Y.length-e.length)/T)-1;q(t)}}(B),Se()},children:"Delete"})})]})}}}]);