"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[6136],{36136:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var l=t(74165),i=t(15861),o=t(29439),a=t(65964),r=t(73709),s=t(47313),u=t(58467),d=t(2135),c=t(70178),f=t(24193),h=t(73428),v=t(5297),g=t(65280),m=t(19536),x=t(51629),p=t(61689),j=t(47131),w=t(66835),Z=t(57861),S=t(48175),C=(t(81887),t(8730)),R=t(53261),b=t(58772),k=t(38875),_=t(50152),P=t(54045),y=t(60585),D=t(20572),F=t(46417),B=[],L=["all","activ","unActiv"],N=[{id:"name",label:"name",align:"left"},{id:"employee",label:"employee",align:"left"},{id:"packagePrice",label:"packagePrice",align:"left"},{id:"flightCost",label:"flightCost",align:"left"},{id:"country",label:"country",align:"left"},{id:"city",label:"city",align:"left"},{id:"agent",label:"agent",align:"left"},{id:"packageWithoutFlightCost",label:"packageWithoutFlightCost",align:"left"},{id:"phone",label:"phone",align:"left"},{id:""}];function A(){var e,n=(0,P.x6)(),t=n.dense,A=n.page,W=n.order,U=n.orderBy,$=n.rowsPerPage,E=n.setPage,K=n.selected,M=n.setSelected,Q=n.onSelectRow,T=n.onSelectAllRows,q=n.onSort,z=n.onChangeDense,I=n.onChangePage,O=n.onChangeRowsPerPage,G=(0,_.K$)().themeStretch,H=(0,u.s0)(),J=(0,D.m)(),V=J.data;J.isLoading;console.log("\ud83d\ude80 ~ file: UserTableRow.js:33 ~ UserTableRow ~ data:",null===V||void 0===V?void 0:V.data);var X=(0,s.useState)([]),Y=(0,o.Z)(X,2),ee=Y[0],ne=Y[1];(0,s.useEffect)((function(){V&&ne(V.data.saless)}),[V]);var te=(0,s.useState)(!1),le=(0,o.Z)(te,2),ie=le[0],oe=le[1],ae=(0,s.useState)(""),re=(0,o.Z)(ae,2),se=re[0],ue=re[1],de=(0,s.useState)("all"),ce=(0,o.Z)(de,2),fe=ce[0],he=ce[1],ve=(0,s.useState)("all"),ge=(0,o.Z)(ve,2),me=ge[0],xe=ge[1],pe=function(e){var n,t,l=e.inputData,i=e.comparator,o=e.filterName,a=e.filterStatus,r=e.filterRole,s=null===(n=l)||void 0===n?void 0:n.map((function(e,n){return[e,n]}));s.sort((function(e,n){var t=i(e[0],n[0]);return 0!==t?t:e[1]-n[1]})),l=null===s||void 0===s?void 0:s.map((function(e){return e[0]})),o&&(l=null===(t=l)||void 0===t?void 0:t.filter((function(e){return-1!==e.title.ar.toLowerCase().indexOf(o.toLowerCase())})));"all"!==a&&(l=l.filter((function(e){return e.active===a})));"all"!==r&&(l=l.filter((function(e){return e.role===r})));return l}({inputData:ee,comparator:(0,P.sQ)(W,U),filterName:se,filterRole:fe,filterStatus:me}),je=pe.slice(A*$,A*$+$),we=t?52:72,Ze=""!==se||"all"!==fe||"all"!==me,Se=!pe.length&&!!se||!pe.length&&!!fe||!pe.length&&!!me,Ce=function(){oe(!1)},Re=(0,D.BM)(),be=(0,o.Z)(Re,1)[0],ke=function(){var e=(0,i.Z)((0,l.Z)().mark((function e(n){var t;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(n);case 2:t=ee.filter((function(e){return e._id!==n})),M([]),ne(t),A>0&&je.length<2&&E(A-1);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(a.ql,{children:(0,F.jsx)("title",{children:" Sales: List | Rehltk"})}),(0,F.jsxs)(c.Z,{maxWidth:!G&&"lg",children:[(0,F.jsx)(k.Z,{heading:"Sales List",links:[{name:"Dashboard",href:S.vB.root},{name:"salse",href:S.vB.salse.root},{name:"List"}],action:(0,F.jsx)(f.Z,{component:d.rU,to:S.vB.salse.new,variant:"contained",startIcon:(0,F.jsx)(C.Z,{icon:"eva:plus-fill"}),children:"New Sales"})}),(0,F.jsxs)(h.Z,{children:[(0,F.jsx)(v.Z,{value:me,onChange:function(e,n){E(0),xe(n)},sx:{px:2,bgcolor:"background.neutral"},children:B.map((function(e){return(0,F.jsx)(g.Z,{label:e,value:e},e)}))}),(0,F.jsx)(m.Z,{}),(0,F.jsx)(y.d,{isFiltered:Ze,filterName:se,filterRole:fe,optionsRole:L,onFilterName:function(e){E(0),ue(e.target.value)},onFilterRole:function(e){E(0),he(e.target.value)},onResetFilter:function(){ue(""),he("all"),xe("all")}}),(0,F.jsxs)(x.Z,{sx:{position:"relative",overflow:"unset"},children:[(0,F.jsx)(P.Z4,{dense:t,numSelected:null===K||void 0===K?void 0:K.length,rowCount:null===ee||void 0===ee?void 0:ee.length,onSelectAllRows:function(e){return T(e,null===ee||void 0===ee?void 0:ee.map((function(e){return e.id})))},action:(0,F.jsx)(p.Z,{title:"Delete",children:(0,F.jsx)(j.Z,{color:"primary",onClick:function(){oe(!0)},children:(0,F.jsx)(C.Z,{icon:"eva:trash-2-outline"})})})}),(0,F.jsx)(R.Z,{children:(0,F.jsxs)(w.Z,{size:t?"small":"medium",sx:{minWidth:800},children:[(0,F.jsx)(P.K,{order:W,orderBy:U,headLabel:N,rowCount:null===ee||void 0===ee?void 0:ee.length,numSelected:null===K||void 0===K?void 0:K.length,onSort:q,onSelectAllRows:function(e){return T(e,null===ee||void 0===ee?void 0:ee.map((function(e){return e.id})))}}),(0,F.jsxs)(Z.Z,{children:[null===pe||void 0===pe||null===(e=pe.slice(A*$,A*$+$))||void 0===e?void 0:e.map((function(e){return(0,F.jsx)(y.$,{row:e,selected:K.includes(null===e||void 0===e?void 0:e._id),onSelectRow:function(){return Q(null===e||void 0===e?void 0:e._id)},onDeleteRow:function(){return ke(null===e||void 0===e?void 0:e._id)},onEditRow:function(){return n=null===e||void 0===e?void 0:e._id,void H(S.vB.salse.edit((0,r.o)(n)));var n}},null===e||void 0===e?void 0:e._id)})),(0,F.jsx)(P.$W,{height:we,emptyRows:(0,P.fQ)(A,$,ee.length)}),(0,F.jsx)(P.et,{isNotFound:Se})]})]})})]}),(0,F.jsx)(P.S_,{count:null===pe||void 0===pe?void 0:pe.length,page:A,rowsPerPage:$,onPageChange:I,onRowsPerPageChange:O,dense:t,onChangeDense:z})]})]}),(0,F.jsx)(b.Z,{open:ie,onClose:Ce,title:"Delete",content:(0,F.jsxs)(F.Fragment,{children:["Are you sure want to delete"," ",(0,F.jsxs)("strong",{children:[" ",K.length," "]})," items?"]}),action:(0,F.jsx)(f.Z,{variant:"contained",color:"error",onClick:function(){!function(e){var n=null===ee||void 0===ee?void 0:ee.filter((function(n){return!e.includes(n.id)}));if(M([]),ne(n),A>0)if(e.length===je.length)E(A-1);else if(e.length===pe.length)E(0);else if(e.length>je.length){var t=Math.ceil((ee.length-e.length)/$)-1;E(t)}}(K),Ce()},children:"Delete"})})]})}}}]);